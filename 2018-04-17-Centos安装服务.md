## Centos安装mysql
1.卸载老版本MySQL
<hr/>
find / -name mysql

rm -rf 上边查找到的路径，多个路径用空格隔开

或者下边一条命令即可

find / -name mysql|xargs rm -rf
<hr/>

2,在安装包存放目录下执行命令解压文件：

tar -zxvf mysql-5.6.31-linux-glibc2.5-x86_64.tar.gz

3,删除安装包，重命名解压后的文件

rm -f mysql-5.6.31-linux-glibc2.5-x86_64.tar.gz<br/>
mv mysql-5.6.31-linux-glibc2.5-x86_64/ mysql

4,添加用户组和用户

添加用户组

groupadd mysql

添加用户mysql 到用户组mysql

useradd -g mysql mysql

5,安装:

cd /usr/local/mysql/

创建数据文件夹

mkdir ./data/mysql

修改文件权限

chown -R mysql:mysql ./

安装并指定用户和data文件夹位置

./scripts/mysql_install_db --user=mysql --datadir=/usr/local/mysql/data/mysql

这一步如果报错:error while loading shared libnuma.so.1....... 

就先运行 yum -y install numactl

复制mysql到服务自动启动里面

cp support-files/mysql.server /etc/init.d/mysqld

修改权限为755 也就是root可以执行

chmod 755 /etc/init.d/mysqld

复制配置文件到etc下，因为默认启动先去etc下加载配置文件

cp support-files/my-default.cnf /etc/my.cnf
 
修改启动脚本

vi /etc/init.d/mysqld
 
修改项：

basedir=/usr/local/mysql/

datadir=/usr/local/mysql/data/mysql
 
启动服务

service mysqld start
 
测试连接

./bin/mysql -uroot
 
加入环境变量，编辑 /etc/profile，这样可以在任何地方用mysql命令了

export PATH=$PATH:/usr/local/mysql/bin
 
 
启动mysql
service mysqld start

关闭mysql
service mysqld stop

重新启动mysql
service mysqld restart

查看运行状态
service mysqld status

6,问题

安装完成后自行进行root用户密码修改和相关用户配置。

完成后用工具远程连接报错，是由于没有给远程连接的用户权限问题。 

解决1：更改 ‘mysql'数据库‘user'表‘host'项，从‘localhost'改成‘%'。
进入mysql
./bin/mysql -uroot

>use mysql;

>select 'host' from user where user='root';

>update user set host = '%' where user ='root';   (这步报错不用管)

>flush privileges;
